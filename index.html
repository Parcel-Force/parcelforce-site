<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ParcelForce | Track. Deliver. Impress.</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <style>
    /* ParcelForce ‚Äî Modern drop-in stylesheet (red adjusted to a darker, less shiny tone)
       Mobile-first, accessible, fluid typography, dark-mode aware.
    */

    /* Load fonts */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap');

    :root{
      --brand-red: #9B0F22;        /* darker, less shiny red */
      --brand-red-dark: #7F0D1A;
      --brand-red-rgb: 155,15,34;
      --brand-navy: #0B3D91;
      --bg: #F7F8FA;
      --card: #FFFFFF;
      --muted: #6B7280;
      --text: #0F1724;
      --radius: 12px;
      --container: 1200px;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, var(--bg), #ffffff);
      color: var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height: 1.45;
      transition: background .25s ease, color .25s ease;
    }

    @media (prefers-reduced-motion: reduce){
      * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition: none !important; scroll-behavior: auto !important; }
    }

    section, .hero-overlay {
      width: min(100%, var(--container));
      margin-inline: auto;
      padding-inline: 20px;
    }

    header{
      display:flex;
      gap: 16px;
      align-items:center;
      justify-content:space-between;
      padding:12px 20px;
      position: sticky;
      top: 0;
      z-index: 1100;
      backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.7));
      box-shadow: 0 4px 18px rgba(11,61,145,0.06);
      border-bottom: 1px solid rgba(11,61,145,0.04);
    }

    .logo{
      height:44px;
      width:auto;
      border-radius:10px;
      display:block;
      object-fit:contain;
      filter: drop-shadow(0 2px 6px rgba(11,61,145,0.08));
    }

    nav{
      display:flex;
      gap:12px;
      align-items:center;
      flex:1;
      justify-content:center;
      flex-wrap:wrap;
    }
    nav a{
      color: var(--brand-navy);
      text-decoration:none;
      padding:8px 12px;
      border-radius:8px;
      font-weight:600;
      font-size:0.95rem;
      transition: transform .12s ease, background .12s ease;
    }
    nav a:hover,
    nav a:focus{
      background: rgba(11,61,145,0.06);
      transform: translateY(-2px);
      outline: none;
      color: var(--brand-navy);
    }

    .toggle-container{
      display:flex;
      gap:12px;
      align-items:center;
    }
    #modeIcon {
      font-size:1.28rem;
      cursor:pointer;
      padding:8px;
      border-radius:8px;
      display:inline-grid;
      place-items:center;
      background: transparent;
      border: none;
    }
    #modeIcon:focus{
      outline: 3px solid rgba(11,61,145,0.12);
      outline-offset:2px;
    }

    .search-bar input{
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(11,61,145,0.08);
      min-width:150px;
      background:transparent;
      transition: box-shadow .15s ease, border-color .15s ease;
      font-size:0.95rem;
    }
    .search-bar input:focus{
      box-shadow: 0 6px 20px rgba(11,61,145,0.08);
      border-color: rgba(11,61,145,0.16);
      outline: none;
    }

    .hero{
      position:relative;
      overflow:hidden;
      min-height:72vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding-block:36px;
      background: linear-gradient(180deg, rgba(11,61,145,0.02), transparent);
    }

    .bg-video{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      z-index:0;
      filter: brightness(0.55) saturate(1.05);
      transform-origin:center;
    }

    .hero-poster{ display:none; width:100%; height:100%; object-fit:cover; z-index:0; }

    .hero::before{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, rgba(5,15,30,0.35), rgba(5,15,30,0.25));
      z-index:0;
    }

    .hero-overlay{
      position:relative;
      z-index:2;
      display:flex;
      flex-direction:column;
      gap:18px;
      align-items:center;
      text-align:center;
      padding-block:48px;
    }

    .hero-overlay h1{
      margin:0;
      font-family: "Poppins", "Inter", system-ui, sans-serif;
      font-weight:700;
      color: #FFF;
      text-shadow: 0 6px 24px rgba(3,8,23,0.45);
      font-size: clamp(1.6rem, 4.6vw, 3.2rem);
      letter-spacing: -0.01em;
    }
    .hero-overlay p{
      margin:0;
      color: rgba(255,255,255,0.92);
      font-size: clamp(0.95rem, 2.6vw, 1.1rem);
      max-width: 860px;
      line-height:1.4;
      text-shadow: 0 2px 8px rgba(0,0,0,0.35);
    }

    .hero-overlay input#trackingInput{
      width: min(92%, 520px);
      padding:14px 16px;
      border-radius: 999px;
      border: none;
      font-size:1rem;
      background: rgba(255,255,255,0.95);
      color: var(--brand-navy);
      box-shadow: 0 6px 20px rgba(3,8,23,0.12);
      outline: none;
    }
    .hero-overlay input#trackingInput::placeholder{ color: #9CA3AF; }

    #trackBtn{
      margin-top:6px;
      display:inline-block;
      padding:12px 28px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--brand-red), var(--brand-red-dark));
      color: white;
      border: none;
      font-weight:700;
      font-size:1rem;
      cursor:pointer;
      box-shadow: 0 8px 30px rgba(var(--brand-red-rgb),0.16);
      transition: transform .15s ease, box-shadow .15s ease, opacity .12s ease;
    }
    #trackBtn:hover{ transform: translateY(-3px); box-shadow: 0 12px 36px rgba(var(--brand-red-rgb),0.22); }
    #trackBtn:active{ transform: translateY(-1px); }
    #trackBtn:disabled{ opacity:.7; cursor:not-allowed; box-shadow:none; transform:none; }

    .spinner{
      width:40px;
      height:40px;
      border-radius:50%;
      border:4px solid rgba(255,255,255,0.18);
      border-top-color: rgba(255,255,255,0.95);
      display:none;
      margin-top:12px;
      animation: spin 0.9s linear infinite;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    section{ padding-block:64px; }

    section h2{
      text-align:center;
      font-family: "Poppins", Inter, sans-serif;
      font-weight:700;
      color: var(--brand-navy);
      font-size: clamp(1.2rem, 3.1vw, 2rem);
      margin-bottom:26px;
    }

    .services-grid{
      display:grid;
      gap:18px;
      grid-template-columns: 1fr;
      align-items:start;
      margin-top:12px;
    }
    .service-card{
      background: var(--card);
      padding:18px;
      border-radius: var(--radius);
      box-shadow: 0 6px 22px rgba(11,61,145,0.08);
      transition: transform .18s ease, box-shadow .18s ease;
      text-align:left;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .service-card h3{ margin:0; font-size:1.05rem; color: var(--brand-navy); }
    .service-card p{ margin:0; color:var(--muted); font-size:0.95rem; line-height:1.45; }
    .service-card button{ margin-top:auto; align-self:flex-start; padding:10px 18px; border-radius:10px; background: linear-gradient(90deg, var(--brand-navy), #214ea8); color:#fff; border:none; font-weight:600; cursor:pointer; }

    .create-account, .contact-card{
      background: var(--card);
      padding:22px;
      border-radius: var(--radius);
      box-shadow: 0 6px 22px rgba(11,61,145,0.08);
      max-width:760px;
      margin-inline:auto;
    }
    .create-account h2{ text-align:center; margin-top:0; color:var(--brand-navy); font-size:1.35rem; }
    .create-account input{
      width:100%;
      padding:12px 14px;
      margin-bottom:12px;
      border-radius:10px;
      border:1px solid rgba(15,23,36,0.06);
      background: #fff;
      font-size:0.98rem;
      outline:none;
    }
    .create-account input:focus{
      box-shadow: 0 8px 20px rgba(11,61,145,0.06);
      border-color: rgba(11,61,145,0.12);
    }
    .create-account button{
      width:100%;
      padding:12px 16px;
      border-radius:10px;
      background: var(--brand-red);
      color:white;
      font-weight:700;
      border:none;
      cursor:pointer;
      box-shadow: 0 8px 20px rgba(var(--brand-red-rgb),0.12);
    }

    .contact-card p{ margin:8px 0; color:var(--muted); font-size:1.02rem; }
    .contact-card a{ color: var(--brand-navy); font-weight:600; text-decoration:none; }
    .contact-card a:hover{ text-decoration:underline; }

    footer{
      background: linear-gradient(180deg, #0b214d, #071737);
      color: #dbeafe;
      text-align:center;
      padding:28px 20px;
      margin-top:36px;
    }
    footer img{ height:48px; display:inline-block; margin-bottom:8px; filter: drop-shadow(0 10px 30px rgba(11,61,145,0.12)); }
    footer p{ margin:6px 0; font-size:0.95rem; opacity:0.95; }

    @media (min-width: 720px){
      .hero{ min-height:82vh; padding-block:48px; }
      .services-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
      .hero-overlay{ gap:22px; }
    }
    @media (min-width: 1100px){
      header{ padding-inline:28px; }
      .services-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); gap:24px; }
      .hero-overlay{ padding-block:64px; }
      .hero-overlay input#trackingInput{ width:520px; }
    }
    @media (max-width: 720px){
      header{ flex-direction: column; gap:10px; padding-block:10px; }
      nav{ order:2; justify-content:center; }
      .toggle-container{ order:3; justify-content:center; }
      .logo{ margin-inline:auto; }
      .services-grid{ grid-template-columns: 1fr; }
      .hero-overlay{ padding-block:36px; text-align:center; }
      .bg-video{ display:none; }
      .hero-poster{ display:block; }
    }

    /* Dark mode */
    body.dark-mode{
      background: linear-gradient(180deg, #06070a, #0b1220);
      color: #E6EEF8;
    }
    body.dark-mode header{
      background: linear-gradient(180deg, rgba(15,20,35,0.6), rgba(10,12,20,0.6));
      border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    body.dark-mode nav a{ color: #E6EEF8; }
    body.dark-mode .hero::before{ background: linear-gradient(180deg, rgba(0,0,0,0.5), rgba(0,0,0,0.35)); }
    body.dark-mode .service-card,
    body.dark-mode .create-account,
    body.dark-mode .contact-card{
      background: linear-gradient(180deg, rgba(8,10,18,0.6), rgba(10,12,20,0.6));
      color: #E6EEF8;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
    }
    body.dark-mode .service-card h3{ color:#FFCCD0; }
    body.dark-mode section h2{ color:#FFCCD0; }
    body.dark-mode footer{ background: linear-gradient(180deg,#030416,#07102a); }

    a:focus, button:focus, input:focus {
      outline: 3px solid rgba(11,61,145,0.12);
      outline-offset: 3px;
      border-radius: 8px;
    }

    input[style*="border-color: red"], .error {
      box-shadow: 0 4px 18px rgba(var(--brand-red-rgb),0.12);
      border-color: rgba(var(--brand-red-rgb),0.9) !important;
    }

    /* cookie banner */
    .cookie-banner{ position:fixed; left:16px; right:16px; bottom:16px; background:rgba(255,255,255,0.96); border-radius:12px; box-shadow:0 12px 40px rgba(2,6,23,0.2); padding:14px; display:flex; gap:12px; align-items:center; justify-content:space-between; max-width:1100px; margin-inline:auto; }
    .cookie-banner p{ margin:0; color:var(--text); font-size:0.95rem; }
    .cookie-banner button{ padding:8px 14px; border-radius:10px; border:none; cursor:pointer; }

  </style>
</head>
<body>

  <header>
    <img src="logo.png" alt="ParcelForce Logo" class="logo" />
    <nav role="navigation" aria-label="Main navigation">
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#services">Services</a>
      <a href="#contact">Contact</a>
      <a href="auth.html">Login</a>
      <a href="auth.html">Sign Up</a>
    </nav>
    <div class="toggle-container">
      <button id="modeIcon" onclick="toggleDarkMode()" aria-label="Toggle dark mode">üåô</button>
      <div class="search-bar">
        <input type="text" placeholder="Search..." aria-label="Search site" />
      </div>
    </div>
  </header>

  <section class="hero" id="home">
    <!-- poster fallback for small screens -->
    <img src="hero.jpg" alt="Courier on the road" class="hero-poster" />
    <video autoplay muted loop playsinline class="bg-video" poster="hero.jpg">
      <source src="courier-bg.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

    <div class="hero-overlay">
      <h1>Track Your Parcel</h1>
      <p>Real-time updates. Global reach. Premium service.</p>
      <input type="text" id="trackingInput" placeholder="Enter tracking number" aria-label="Tracking number" />
      <button id="trackBtn" type="button" onclick="trackItem()">Track Now</button>
      <div id="spinner" class="spinner" role="status" aria-live="polite" aria-hidden="true"></div>
    </div>
  </section>

  <section id="services">
    <h2>What would you like to do?</h2>
    <div class="services-grid">
      <div class="service-card">
        <h3>üì¶ Send an Item</h3>
        <p>Book a pickup or drop off your parcel.</p>
        <button type="button">Send Now</button>
      </div>
      <div class="service-card">
        <h3>üîç Track Your Item</h3>
        <p>Check delivery status in real time.</p>
        <button type="button" onclick="document.getElementById('trackingInput').scrollIntoView({behavior: 'smooth'})">Track</button>
      </div>
      <div class="service-card">
        <h3>üì¨ Redelivery</h3>
        <p>Missed a delivery? Book a redelivery.</p>
        <button type="button">Reschedule</button>
      </div>
      <div class="service-card">
        <h3>üåç International Shipping</h3>
        <p>Send parcels worldwide with premium support.</p>
        <button type="button">Explore</button>
      </div>
      <div class="service-card">
        <h3>üìÆ Find a Postcode</h3>
        <p>Search for UK addresses and postcodes.</p>
        <button type="button">Search</button>
      </div>
    </div>
  </section>

  <section class="create-account">
    <h2>Create an Account</h2>
    <input type="text" id="username" placeholder="Username" required aria-label="Username">
    <input type="email" id="email" placeholder="Email" required aria-label="Email">
    <input type="password" id="password" placeholder="Password" required aria-label="Password">
    <button id="createAccountBtn" type="button">Create Account</button>
  </section>

  <section id="contact">
    <h2>Contact Us</h2>
    <div class="contact-card">
      <p>üìß Email: <a href="mailto:Parcel_Force1986@outlook.com">Parcel_Force1986@outlook.com</a></p>
      <p>üí¨ WhatsApp: <a href="https://wa.me/27633373857" target="_blank" rel="noopener noreferrer">+27 63 337 3857</a></p>
    </div>
  </section>

  <footer>
    <img src="logo.png" alt="ParcelForce Logo" />
    <p><strong>ParcelForce International Courier</strong> &copy; 2025. All rights reserved.</p>
    <p>Privacy | Terms | Accessibility</p>
  </footer>

  <!-- Cookie / Analytics banner (hidden by default) -->
  <div id="cookieBanner" class="cookie-banner" style="display:none;" role="dialog" aria-live="polite" aria-label="Cookie consent">
    <p>We use analytics to improve the site. Accept to allow analytics tracking.</p>
    <div style="display:flex;gap:8px;">
      <button id="acceptCookies" type="button">Accept</button>
      <button id="rejectCookies" type="button">Reject</button>
    </div>
  </div>

  <script>
    (function () {
      // trackItem: validates input and redirects to track page with spinner
      function trackItem() {
        const input = document.getElementById('trackingInput');
        const value = input ? input.value.trim().toUpperCase() : '';
        const pattern = /^[A-Z0-9]{9,21}$/;
        const spinner = document.getElementById('spinner');
        const button = document.getElementById('trackBtn');

        if (!value || !pattern.test(value)) {
          if (input) input.style.borderColor = "red";
          window.alert && window.alert("Please enter a valid tracking number (9-21 characters).");
          return;
        }

        if (input) input.style.borderColor = "#ccc";
        if (spinner) {
          spinner.style.display = "inline-block";
          spinner.setAttribute('aria-hidden', 'false');
        }
        if (button) {
          button.disabled = true;
          button.textContent = "Checking...";
        }

        setTimeout(() => {
          // Use assign so tests can stub location.assign
          window.location.assign(`track.html?ref=${encodeURIComponent(value)}`);
        }, 800);
      }

      // Create account logic
      function initCreateAccount() {
        const createBtn = document.getElementById('createAccountBtn');
        if (!createBtn) return;

        createBtn.addEventListener('click', () => {
          const email = document.getElementById('email').value.trim();
          const password = document.getElementById('password').value;
          const username = document.getElementById('username').value.trim();

          if (!username || !email || !password) {
            window.alert && window.alert("Please fill in all fields.");
            return;
          }

          if (password.length < 6) {
            window.alert && window.alert("Password must be at least 6 characters.");
            return;
          }

          window.alert && window.alert("Account created successfully! Welcome, " + username + "!");
          document.getElementById('username').value = '';
          document.getElementById('email').value = '';
          document.getElementById('password').value = '';
        });
      }

      // Dark mode toggle and persistence
      function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        const icon = document.getElementById('modeIcon');
        if (icon) icon.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
        try { localStorage.setItem('darkMode', document.body.classList.contains('dark-mode')); } catch(e){}
      }
      function loadDarkModePreference() {
        try {
          if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            const icon = document.getElementById('modeIcon');
            if (icon) icon.textContent = '‚òÄÔ∏è';
          }
        } catch(e){}
      }

      // Enter key support for tracking input
      function initEnterKeyForTracking() {
        const input = document.getElementById('trackingInput');
        if (!input) return;
        input.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') trackItem();
        });
      }

      // Analytics loader (opt-in) - replace the ID with your GA4 ID if desired
      function loadAnalytics(gaMeasurementId) {
        if (!gaMeasurementId) return;
        window.dataLayer = window.dataLayer || [];
        function gtag(){ dataLayer.push(arguments); }
        window.gtag = gtag;
        gtag('js', new Date());
        gtag('config', gaMeasurementId);

        const s = document.createElement('script');
        s.async = true;
        s.src = `https://www.googletagmanager.com/gtag/js?id=${gaMeasurementId}`;
        document.head.appendChild(s);
      }

      // Cookie banner logic
      function showCookieBannerIfNeeded() {
        try {
          const consent = localStorage.getItem('pf_analytics_consent');
          const banner = document.getElementById('cookieBanner');
          if (consent === null && banner) {
            banner.style.display = 'flex';
            document.getElementById('acceptCookies').addEventListener('click', () => {
              localStorage.setItem('pf_analytics_consent', 'accepted');
              banner.style.display = 'none';
              loadAnalytics('G-REPLACE_WITH_YOUR_ID'); // <-- put your GA4 ID here
            });
            document.getElementById('rejectCookies').addEventListener('click', () => {
              localStorage.setItem('pf_analytics_consent', 'rejected');
              banner.style.display = 'none';
            });
          } else if (consent === 'accepted') {
            loadAnalytics('G-REPLACE_WITH_YOUR_ID');
          }
        } catch (e) { /* ignore */ }
      }

      // Initialization
      function init() {
        window.toggleDarkMode = toggleDarkMode;
        window.trackItem = trackItem; // keep compatibility with inline onclick
        loadDarkModePreference();
        initCreateAccount();
        initEnterKeyForTracking();
        showCookieBannerIfNeeded();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }

      // Export for tests if running under CommonJS (jest)
      if (typeof module !== 'undefined' && module.exports) {
        module.exports = { trackItem, toggleDarkMode, loadAnalytics };
      } else {
        window.pf = window.pf || {};
        window.pf.trackItem = trackItem;
      }
    })();
  </script>
</body>
</html>